(()=>{"use strict";var t={5:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(15),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([t.id,"html, body{\n    margin:0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n}\n\n#gameArea {\n    border: black solid 1px;\n    margin: 0 auto;\n    display: block;\n    background-color: aqua;\n}","",{version:3,sources:["webpack://./src/css/globalStyles.css"],names:[],mappings:"AAAA;IACI,QAAQ;IACR,UAAU;IACV,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,uBAAuB;IACvB,cAAc;IACd,cAAc;IACd,sBAAsB;AAC1B",sourcesContent:["html, body{\n    margin:0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n}\n\n#gameArea {\n    border: black solid 1px;\n    margin: 0 auto;\n    display: block;\n    background-color: aqua;\n}"],sourceRoot:""}]);const a=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=function(t){var n,i,o=(i=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}(n,i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[1],s=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),u=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([h]).join("\n")}return[r].join("\n")}},379:(t,e,n)=>{var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function s(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],h=n[c]||0,u="".concat(c," ").concat(h);n[c]=h+1;var d=s(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(r[d].references++,r[d].updater(p)):r.push({identifier:u,updater:m(p,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function d(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l=null,f=0;function m(t,e){var n,i,o;if(e.singleton){var r=f++;n=l||(l=c(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=c(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var c=a(t,e),h=0;h<n.length;h++){var u=s(n[h]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=c}}}}},e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{const t=function(){function t(t,e){var n=this;this.stripeCount=6,this.ctx=t,this.dimensions={height:e.height,width:e.width/2,posX:.25*e.width,posY:0},this.Stripes=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(Array(this.stripeCount)).map((function(t,i){return{height:e.height/(n.stripeCount+1),width:10,posX:e.width/2-n.stripeCount,posY:i*(e.height/n.stripeCount)}}))}return t.prototype.getDimensions=function(){return this.dimensions},t.prototype.draw=function(){this.ctx.fillStyle="#000",this.ctx.fillRect(this.dimensions.posX,this.dimensions.posY,this.dimensions.width,this.dimensions.height)},t.prototype.drawStripes=function(){var t=this;this.ctx.fillStyle="#fff",this.Stripes.forEach((function(e){t.ctx.fillRect(e.posX,e.posY,e.width,e.height)}))},t.prototype.updateStripes=function(){var t=this;this.Stripes.forEach((function(e){e.posY>t.dimensions.height?e.posY=0:e.posY+=5}))},t}();var e=n(379),i=n.n(e),o=n(5);i()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;const r=n.p+"2eef8a01c09f68c27815539d51769a0a.png",s=function(){function t(t,e){this.roadDimensions=e,this.dimensions={posX:e.posX+e.width/2-22.5,posY:e.height-75-50,height:75,width:45},this.ctx=t,this.maxSpeed=3,this.velocity=0,this.carImage=new Image,this.carImage.src=r}return t.prototype.getDimensions=function(){return this.dimensions},t.prototype.draw=function(){this.ctx.fillStyle="#0f0",this.ctx.drawImage(this.carImage,this.dimensions.posX,this.dimensions.posY)},t.prototype.updatePosition=function(){this.velocity<0&&this.dimensions.posX>this.roadDimensions.posX&&(this.dimensions.posX+=this.velocity),this.velocity>0&&this.dimensions.posX+this.dimensions.width<this.roadDimensions.posX+this.roadDimensions.width&&(this.dimensions.posX+=this.velocity)},t.prototype.initialiseInputHandler=function(){var t=this;document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowLeft":t.velocity=-t.maxSpeed;break;case"ArrowRight":t.velocity=t.maxSpeed}})),document.addEventListener("keyup",(function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":t.velocity=0}}))},t}(),a=function(t,e){this.roadDimensions=e,this.dimensions={posX:e.posX+parseFloat(Math.random().toFixed(2))*(e.width-45-70),posY:e.posY-100,height:75,width:45},this.ctx=t,this.speed=6},c=n.p+"6996ba69548d9097ee0d86869f01239f.png",h=function(){function t(t,e,n){this.carCount=0,this.roadDimensions=e,this.ctx=t,this.car=n;var i=new a(this.ctx,this.roadDimensions);this.latestEnemyCar=i,this.enemyCars=[i],this.enemyCarImage=new Image,this.enemyCarImage.src=c}return t.prototype.insertNewEnemyCar=function(){if(this.latestEnemyCar.dimensions.posY>.25*this.roadDimensions.height&&Math.round(100*Math.random())<=10){var t=new a(this.ctx,this.roadDimensions);this.latestEnemyCar=t,this.enemyCars.push(t),this.carCount++}},t.prototype.deleteEnemyCar=function(){var t=this;this.enemyCars=this.enemyCars.filter((function(e){return!(e.dimensions.posY>t.roadDimensions.posY+t.roadDimensions.height)})),this.carCount=this.enemyCars.length},t.prototype.updatePosition=function(){this.insertNewEnemyCar(),this.enemyCars.forEach((function(t){t.dimensions.posY+=t.speed})),this.deleteEnemyCar()},t.prototype.draw=function(){var t=this;this.ctx.fillStyle="#f00",this.enemyCars.forEach((function(e){t.ctx.drawImage(t.enemyCarImage,e.dimensions.posX,e.dimensions.posY)}))},t.prototype.detectCollision=function(){var t,e=this.car.getDimensions();t={up:e.posY,down:e.posY+e.height,left:e.posX,right:e.posX+e.width};for(var n=0,i=this.enemyCars;n<i.length;n++){var o=i[n],r={up:o.dimensions.posY,down:o.dimensions.posY+o.dimensions.height,left:o.dimensions.posX,right:o.dimensions.posX+o.dimensions.width};if(this.isColliding(r,t))return!0}return!1},t.prototype.isColliding=function(t,e){return t.left>=e.left&&t.left<=e.right&&t.up>=e.up&&t.up<=e.down||t.right>=e.left&&t.right<=e.right&&t.up>=e.up&&t.up<=e.down||t.left>=e.left&&t.left<=e.right&&t.down>=e.up&&t.down<=e.down||t.right>=e.left&&t.right<=e.right&&t.down>=e.up&&t.down<=e.down},t}();var u=new(function(){function e(t){this.gameAreaCanvasElement=t,this.ctx=t.getContext("2d"),this.lastRenderTime=0,this.gameDimensions={width:1080,height:720},this.gameAreaCanvasElement.width=1080,this.gameAreaCanvasElement.height=720,this.isGameInitialized=!1,this.isRunning=!1}return e.prototype.initialize=function(){this.isGameInitialized=!0,this.road=new t(this.ctx,this.gameDimensions),this.car=new s(this.ctx,this.road.getDimensions()),this.car.initialiseInputHandler(),this.enemyCarFactory=new h(this.ctx,this.road.getDimensions(),this.car)},e.prototype.gameLoop=function(t){this.lastRenderTime,this.lastRenderTime=t,this.road.draw(),this.road.drawStripes(),this.car.draw(),this.enemyCarFactory.draw(),this.road.updateStripes(),this.enemyCarFactory.updatePosition(),this.car.updatePosition(),this.enemyCarFactory.detectCollision()&&(this.isGameInitialized=!1,this.isRunning=!1),this.isRunning&&requestAnimationFrame(this.gameLoop.bind(this))},e.prototype.run=function(){!0!==this.isRunning&&(this.initialize(),this.isRunning=!0,requestAnimationFrame(this.gameLoop.bind(this)))},e.prototype.continue=function(){!0!==this.isRunning&&(this.isRunning=!0,requestAnimationFrame(this.gameLoop.bind(this)))},e.prototype.pause=function(){!1!==this.isRunning&&(this.isRunning=!1)},e}())(document.querySelector("#gameArea"));document.addEventListener("keydown",(function(t){switch(t.code){case"Space":u.isGameInitialized?u.isRunning?u.pause():u.continue():u.run()}}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvY3NzL2dsb2JhbFN0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vcm9hZC1maWdodGVyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vcm9hZC1maWdodGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JvYWQtZmlnaHRlci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3JvYWQtZmlnaHRlci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3JvYWQtZmlnaHRlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JvYWQtZmlnaHRlci93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvZ2FtZU9iamVjdHMvUm9hZC50cyIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvY3NzL2dsb2JhbFN0eWxlcy5jc3M/ZmZiYiIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvaW1hZ2VzL2Nhci5wbmciLCJ3ZWJwYWNrOi8vcm9hZC1maWdodGVyLy4vc3JjL2dhbWVPYmplY3RzL0Nhci50cyIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvZ2FtZU9iamVjdHMvRW5lbXlDYXIudHMiLCJ3ZWJwYWNrOi8vcm9hZC1maWdodGVyLy4vc3JjL2ltYWdlcy9lbmVteUNhci5wbmciLCJ3ZWJwYWNrOi8vcm9hZC1maWdodGVyLy4vc3JjL2NvbXBvbmVudHMvRW5lbXlDYXJGYWN0b3J5LnRzIiwid2VicGFjazovL3JvYWQtZmlnaHRlci8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yb2FkLWZpZ2h0ZXIvLi9zcmMvY29tcG9uZW50cy9HYW1lLnRzIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsImhhc093blByb3BlcnR5Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJwIiwiY3R4IiwiZ2FtZURpbWVuc2lvbnMiLCJzdHJpcGVDb3VudCIsImRpbWVuc2lvbnMiLCJoZWlnaHQiLCJ3aWR0aCIsInBvc1giLCJwb3NZIiwiU3RyaXBlcyIsIl8iLCJpZHgiLCJnZXREaW1lbnNpb25zIiwiZHJhdyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd1N0cmlwZXMiLCJ1cGRhdGVTdHJpcGVzIiwicm9hZERpbWVuc2lvbnMiLCJtYXhTcGVlZCIsInZlbG9jaXR5IiwiY2FySW1hZ2UiLCJJbWFnZSIsImNhciIsImRyYXdJbWFnZSIsInVwZGF0ZVBvc2l0aW9uIiwiaW5pdGlhbGlzZUlucHV0SGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb2RlIiwicGFyc2VGbG9hdCIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwic3BlZWQiLCJjYXJDb3VudCIsImVuZW15Q2FyIiwibGF0ZXN0RW5lbXlDYXIiLCJlbmVteUNhcnMiLCJlbmVteUNhckltYWdlIiwiaW5zZXJ0TmV3RW5lbXlDYXIiLCJyb3VuZCIsImRlbGV0ZUVuZW15Q2FyIiwiZGV0ZWN0Q29sbGlzaW9uIiwiY2FyUG9zIiwidXAiLCJkb3duIiwibGVmdCIsInJpZ2h0IiwiZW5lbXlDYXJQb3MiLCJpc0NvbGxpZGluZyIsImdhbWUiLCJnYW1lQXJlYSIsImdhbWVBcmVhQ2FudmFzRWxlbWVudCIsImdldENvbnRleHQiLCJsYXN0UmVuZGVyVGltZSIsImlzR2FtZUluaXRpYWxpemVkIiwiaXNSdW5uaW5nIiwiaW5pdGlhbGl6ZSIsInJvYWQiLCJlbmVteUNhckZhY3RvcnkiLCJnYW1lTG9vcCIsImN1cnJlbnRUaW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicnVuIiwiY29udGludWUiLCJwYXVzZSJdLCJtYXBwaW5ncyI6InFGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDZNQUE4TSxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyx3Q0FBd0MsTUFBUSxHQUFHLFNBQVcsOEdBQThHLGVBQWlCLENBQUMsOE1BQThNLFdBQWEsTUFFM3FCLFcsUUNDQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBdURYLE9BckRBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVTixFQUF1QkssR0FFckMsT0FBSUEsRUFBSyxHQUNBLFVBQVVFLE9BQU9GLEVBQUssR0FBSSxNQUFNRSxPQUFPRCxFQUFTLEtBR2xEQSxLQUNORSxLQUFLLEtBS1ZQLEVBQUtRLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsRUFBUyxNQUc3QixJQUFJRyxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJTixLQUFLVyxPQUFRTCxJQUFLLENBRXBDLElBQUlYLEVBQUtLLEtBQUtNLEdBQUcsR0FFUCxNQUFOWCxJQUNGZSxFQUF1QmYsSUFBTSxHQUtuQyxJQUFLLElBQUlpQixFQUFLLEVBQUdBLEVBQUtMLEVBQVFJLE9BQVFDLElBQU0sQ0FDMUMsSUFBSVYsRUFBTyxHQUFHRSxPQUFPRyxFQUFRSyxJQUV6Qkgs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QUNMeE4sS0FBS3VOLFdBQVksRUFDakJNLHNCQUFzQjdOLEtBQUsyTixTQUFTaEcsS0FBSzNILFNBSXRDLFlBQUErTixTQUFQLFlBRTBCLElBQW5CL04sS0FBS3VOLFlBQ1J2TixLQUFLdU4sV0FBWSxFQUNqQk0sc0JBQXNCN04sS0FBSzJOLFNBQVNoRyxLQUFLM0gsU0FHdEMsWUFBQWdPLE1BQVAsWUFDMEIsSUFBbkJoTyxLQUFLdU4sWUFDUnZOLEtBQUt1TixXQUFZLElBR3pCLEVBM0ZBLEdESGdCLENBRmlCdEosU0FBU0MsY0FBYyxjQUl4REQsU0FBU3lILGlCQUFpQixXQUFVLFNBQUNuSCxHQUVqQyxPQUFPQSxFQUFFb0gsTUFDTCxJQUFLLFFBQ0dzQixFQUFLSyxrQkFDQUwsRUFBS00sVUFDVE4sRUFBS2UsUUFEZWYsRUFBS2MsV0FERmQsRUFBS2EsVyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsIGJvZHl7XFxuICAgIG1hcmdpbjowO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4jZ2FtZUFyZWEge1xcbiAgICBib3JkZXI6IGJsYWNrIHNvbGlkIDFweDtcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhO1xcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY3NzL2dsb2JhbFN0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxRQUFRO0lBQ1IsVUFBVTtJQUNWLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxjQUFjO0lBQ2Qsc0JBQXNCO0FBQzFCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImh0bWwsIGJvZHl7XFxuICAgIG1hcmdpbjowO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4jZ2FtZUFyZWEge1xcbiAgICBib3JkZXI6IGJsYWNrIHNvbGlkIDFweDtcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhO1xcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiBtb2R1bGVbJ2RlZmF1bHQnXSA6XG5cdFx0KCkgPT4gbW9kdWxlO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2FkIHtcblxuICAgIHByaXZhdGUgZGltZW5zaW9uczogRGltZW5zaW9ucztcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIHByaXZhdGUgU3RyaXBlczogRGltZW5zaW9uc1tdO1xuICAgIHByaXZhdGUgc3RyaXBlQ291bnQgPTY7XG5cbiAgICBjb25zdHJ1Y3RvcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZ2FtZURpbWVuc2lvbnM6IERpbWVuc2lvbnMpIHtcblxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiBnYW1lRGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogZ2FtZURpbWVuc2lvbnMud2lkdGggLyAyLFxuICAgICAgICAgICAgcG9zWDogMC4yNSAqIGdhbWVEaW1lbnNpb25zLndpZHRoLFxuICAgICAgICAgICAgcG9zWTogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLlN0cmlwZXMgPSBbLi4uQXJyYXkodGhpcy5zdHJpcGVDb3VudCldLm1hcCgoXywgaWR4KTogRGltZW5zaW9ucyA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogZ2FtZURpbWVuc2lvbnMuaGVpZ2h0Lyh0aGlzLnN0cmlwZUNvdW50KzEpLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMCxcbiAgICAgICAgICAgICAgICBwb3NYOmdhbWVEaW1lbnNpb25zLndpZHRoLzIgLSB0aGlzLnN0cmlwZUNvdW50LFxuICAgICAgICAgICAgICAgIHBvc1k6IGlkeCooZ2FtZURpbWVuc2lvbnMuaGVpZ2h0L3RoaXMuc3RyaXBlQ291bnQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXREaW1lbnNpb25zKCk6RGltZW5zaW9uc3tcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucztcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGRyYXcoKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiIzAwMFwiO1xuICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMucG9zWCwgdGhpcy5kaW1lbnNpb25zLnBvc1ksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdTdHJpcGVzKCkge1xuXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiI2ZmZlwiO1xuXG4gICAgICAgIHRoaXMuU3RyaXBlcy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgICBpLnBvc1gsXG4gICAgICAgICAgICAgICAgaS5wb3NZLFxuICAgICAgICAgICAgICAgIGkud2lkdGgsXG4gICAgICAgICAgICAgICAgaS5oZWlnaHQpXG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVN0cmlwZXMoKSB7XG4gICAgICAgIHRoaXMuU3RyaXBlcy5mb3JFYWNoKGk9PntcbiAgICAgICAgICAgIGlmKGkucG9zWT50aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KSBcbiAgICAgICAgICAgICAgICBpLnBvc1k9MDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpLnBvc1kgKz0gNTtcbiAgICAgICAgfSlcbiAgICB9XG5cblxufSIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vZ2xvYmFsU3R5bGVzLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyZWVmOGEwMWMwOWY2OGMyNzgxNTUzOWQ1MTc2OWEwYS5wbmdcIjsiLCJpbXBvcnQgeyBEaW1lbnNpb25zLCBEaXJlY3Rpb24gfSBmcm9tICcuLy4uL3R5cGVzJztcbmltcG9ydCBjYXJQTkcgZnJvbSAnLi8uLi9pbWFnZXMvY2FyLnBuZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhciB7XG5cbiAgICBwcml2YXRlIHJvYWREaW1lbnNpb25zOiBEaW1lbnNpb25zO1xuICAgIHByaXZhdGUgZGltZW5zaW9uczogRGltZW5zaW9ucztcbiAgICBwcml2YXRlIGN0eDtcbiAgICBwcml2YXRlIHZlbG9jaXR5Om51bWJlcjtcbiAgICBwcml2YXRlIG1heFNwZWVkOm51bWJlcjtcbiAgICBwcml2YXRlIGNhckltYWdlO1xuXG4gICAgY29uc3RydWN0b3IoY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcm9hZERpbWVuc2lvbnM6IERpbWVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5yb2FkRGltZW5zaW9ucyA9IHJvYWREaW1lbnNpb25zO1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICBwb3NYOiByb2FkRGltZW5zaW9ucy5wb3NYICsgcm9hZERpbWVuc2lvbnMud2lkdGgvMiAtIDQ1LzIsXG4gICAgICAgICAgICBwb3NZOiByb2FkRGltZW5zaW9ucy5oZWlnaHQgLSA3NSAtIDUwLFxuICAgICAgICAgICAgaGVpZ2h0OiA3NSxcbiAgICAgICAgICAgIHdpZHRoOiA0NVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5tYXhTcGVlZCA9IDM7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuXG4gICAgICAgIHRoaXMuY2FySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5jYXJJbWFnZS5zcmM9Y2FyUE5HO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGltZW5zaW9ucygpe1xuICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcIiMwZjBcIjtcbiAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKHRoaXMuY2FySW1hZ2UsdGhpcy5kaW1lbnNpb25zLnBvc1gsIHRoaXMuZGltZW5zaW9ucy5wb3NZKTtcbiAgICAgICAgLy8gdGhpcy5jdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLnBvc1gsIHRoaXMuZGltZW5zaW9ucy5wb3NZLCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVQb3NpdGlvbigpe1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy52ZWxvY2l0eTwwKXtcbiAgICAgICAgICAgIGlmKHRoaXMuZGltZW5zaW9ucy5wb3NYID4gdGhpcy5yb2FkRGltZW5zaW9ucy5wb3NYKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMucG9zWCArPXRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnZlbG9jaXR5PjApeyAgXG4gICAgICAgICAgICBpZih0aGlzLmRpbWVuc2lvbnMucG9zWCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCA8IHRoaXMucm9hZERpbWVuc2lvbnMucG9zWCArIHRoaXMucm9hZERpbWVuc2lvbnMud2lkdGggKXtcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMucG9zWCArPXRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpbml0aWFsaXNlSW5wdXRIYW5kbGVyKCk6dm9pZHtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLChlKT0+e1xuICAgICAgICAgICAgc3dpdGNoKGUuY29kZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IC10aGlzLm1heFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMubWF4U3BlZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLChlKT0+e1xuICAgICAgICAgICAgc3dpdGNoKGUuY29kZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteUNhcntcblxuICAgIHByaXZhdGUgcm9hZERpbWVuc2lvbnM6RGltZW5zaW9ucztcbiAgICBwcml2YXRlIGN0eDtcbiAgICAvLyBwdWJsaWMgZmllbGRzIHRvIGJlIHVzZWQgaW4gRmFjdG9yeVxuICAgIHB1YmxpYyBzcGVlZDpudW1iZXI7XG4gICAgcHVibGljIGRpbWVuc2lvbnM6RGltZW5zaW9ucztcblxuICAgIGNvbnN0cnVjdG9yKGN0eDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHJvYWREaW1lbnNpb25zOiBEaW1lbnNpb25zKSB7XG4gICAgICAgIHRoaXMucm9hZERpbWVuc2lvbnMgPSByb2FkRGltZW5zaW9ucztcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzAgaXMgc3VidHJhY3RlZCB0byBhdm9pZCBjYXIgZXhhY3RseSBuZWFyIGVkZ2UuXG4gICAgICAgICAgICBwb3NYOiByb2FkRGltZW5zaW9ucy5wb3NYICsgcGFyc2VGbG9hdChNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpKihyb2FkRGltZW5zaW9ucy53aWR0aC00NS03MCksXG4gICAgICAgICAgICBwb3NZOiByb2FkRGltZW5zaW9ucy5wb3NZIC0gMTAwLFxuICAgICAgICAgICAgaGVpZ2h0OiA3NSxcbiAgICAgICAgICAgIHdpZHRoOiA0NVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5zcGVlZD02O1xuICAgIH1cbiAgICBcbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI2OTk2YmE2OTU0OGQ5MDk3ZWUwZDg2ODY5ZjAxMjM5Zi5wbmdcIjsiLCJpbXBvcnQgQ2FyIGZyb20gXCIuLi9nYW1lT2JqZWN0cy9DYXJcIjtcbmltcG9ydCBFbmVteUNhciBmcm9tIFwiLi4vZ2FtZU9iamVjdHMvRW5lbXlDYXJcIjtcbmltcG9ydCB7IERpbWVuc2lvbnMsIFBvc2l0aW9uIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgZW5lbXlDYXJQTkcgZnJvbSAnLi8uLi9pbWFnZXMvZW5lbXlDYXIucG5nJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmVteUNhckZhY3Rvcnkge1xuXG4gICAgcHJpdmF0ZSBjYXJDb3VudDogbnVtYmVyO1xuICAgIHByaXZhdGUgZW5lbXlDYXJzOiBFbmVteUNhcltdO1xuICAgIHByaXZhdGUgcm9hZERpbWVuc2lvbnM7XG4gICAgcHJpdmF0ZSBjdHg7XG4gICAgcHJpdmF0ZSBsYXRlc3RFbmVteUNhcjogRW5lbXlDYXI7XG4gICAgcHJpdmF0ZSBjYXI6IENhcjtcbiAgICBwcml2YXRlIGVuZW15Q2FySW1hZ2U7XG4gICAgXG4gICAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHJvYWREaW1lbnNpb25zOiBEaW1lbnNpb25zLCBjYXI6IENhcikge1xuICAgICAgICB0aGlzLmNhckNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5yb2FkRGltZW5zaW9ucyA9IHJvYWREaW1lbnNpb25zO1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICAgICAgdGhpcy5jYXIgPSBjYXI7XG5cbiAgICAgICAgbGV0IGVuZW15Q2FyID0gbmV3IEVuZW15Q2FyKHRoaXMuY3R4LCB0aGlzLnJvYWREaW1lbnNpb25zKTtcbiAgICAgICAgdGhpcy5sYXRlc3RFbmVteUNhciA9IGVuZW15Q2FyO1xuICAgICAgICB0aGlzLmVuZW15Q2FycyA9IFtlbmVteUNhcl07XG5cbiAgICAgICAgdGhpcy5lbmVteUNhckltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuZW5lbXlDYXJJbWFnZS5zcmMgID0gZW5lbXlDYXJQTkc7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGluc2VydE5ld0VuZW15Q2FyKCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLmxhdGVzdEVuZW15Q2FyLmRpbWVuc2lvbnMucG9zWSA+IDAuMjUgKiAodGhpcy5yb2FkRGltZW5zaW9ucy5oZWlnaHQpKSB7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDApIDw9IDEwKSB7ICAvLyAxMCUgY2hhbmNlIG9mIG5ldyBlbmVteSBjYXIgYWZ0ZXIgbGFzdCBoYXMgZ29uZS5cbiAgICAgICAgICAgICAgICBsZXQgZW5lbXlDYXI6IEVuZW15Q2FyID0gbmV3IEVuZW15Q2FyKHRoaXMuY3R4LCB0aGlzLnJvYWREaW1lbnNpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdEVuZW15Q2FyID0gZW5lbXlDYXI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmVteUNhcnMucHVzaChlbmVteUNhcik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJDb3VudCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRlbGV0ZUVuZW15Q2FyKCk6IHZvaWQge1xuXG4gICAgICAgIHRoaXMuZW5lbXlDYXJzID0gdGhpcy5lbmVteUNhcnMuZmlsdGVyKChpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIShpLmRpbWVuc2lvbnMucG9zWSA+IHRoaXMucm9hZERpbWVuc2lvbnMucG9zWSArIHRoaXMucm9hZERpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2FyQ291bnQgPSB0aGlzLmVuZW15Q2Fycy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVBvc2l0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3RW5lbXlDYXIoKTtcblxuICAgICAgICB0aGlzLmVuZW15Q2Fycy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICBpLmRpbWVuc2lvbnMucG9zWSArPSBpLnNwZWVkO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRlbGV0ZUVuZW15Q2FyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKSB7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiI2YwMFwiO1xuICAgICAgICB0aGlzLmVuZW15Q2Fycy5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5lbmVteUNhckltYWdlLGkuZGltZW5zaW9ucy5wb3NYLCBpLmRpbWVuc2lvbnMucG9zWSk7XG4gICAgICAgICAgICAvLyB0aGlzLmN0eC5maWxsUmVjdChpLmRpbWVuc2lvbnMucG9zWCwgaS5kaW1lbnNpb25zLnBvc1ksIGkuZGltZW5zaW9ucy53aWR0aCwgaS5kaW1lbnNpb25zLmhlaWdodCk7XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgcHVibGljIGRldGVjdENvbGxpc2lvbigpOiBib29sZWFuIHtcblxuICAgICAgICBsZXQgY2FyUG9zOiBQb3NpdGlvbjtcbiAgICAgICAgbGV0IGRpbWVuc2lvbnM6IERpbWVuc2lvbnMgPSB0aGlzLmNhci5nZXREaW1lbnNpb25zKCk7XG5cbiAgICAgICAgY2FyUG9zID0ge1xuICAgICAgICAgICAgdXA6IGRpbWVuc2lvbnMucG9zWSxcbiAgICAgICAgICAgIGRvd246IGRpbWVuc2lvbnMucG9zWSArIGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogZGltZW5zaW9ucy5wb3NYLFxuICAgICAgICAgICAgcmlnaHQ6IGRpbWVuc2lvbnMucG9zWCArIGRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBvZiB0aGlzLmVuZW15Q2Fycykge1xuXG4gICAgICAgICAgICBsZXQgZW5lbXlDYXJQb3M6IFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHVwOiBpLmRpbWVuc2lvbnMucG9zWSxcbiAgICAgICAgICAgICAgICBkb3duOiBpLmRpbWVuc2lvbnMucG9zWSArIGkuZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdDogaS5kaW1lbnNpb25zLnBvc1gsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGkuZGltZW5zaW9ucy5wb3NYICsgaS5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NvbGxpZGluZyhlbmVteUNhclBvcywgY2FyUG9zKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQ29sbGlkaW5nKGVuZW15Q2FyUG9zOiBQb3NpdGlvbiwgY2FyUG9zOiBQb3NpdGlvbik6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmIChlbmVteUNhclBvcy5sZWZ0ID49IGNhclBvcy5sZWZ0ICYmIGVuZW15Q2FyUG9zLmxlZnQgPD0gY2FyUG9zLnJpZ2h0ICYmXG4gICAgICAgICAgICBlbmVteUNhclBvcy51cCA+PSBjYXJQb3MudXAgJiYgZW5lbXlDYXJQb3MudXAgPD0gY2FyUG9zLmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVuZW15Q2FyUG9zLnJpZ2h0ID49IGNhclBvcy5sZWZ0ICYmIGVuZW15Q2FyUG9zLnJpZ2h0IDw9IGNhclBvcy5yaWdodCAmJlxuICAgICAgICAgICAgZW5lbXlDYXJQb3MudXAgPj0gY2FyUG9zLnVwICYmIGVuZW15Q2FyUG9zLnVwIDw9IGNhclBvcy5kb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmVteUNhclBvcy5sZWZ0ID49IGNhclBvcy5sZWZ0ICYmIGVuZW15Q2FyUG9zLmxlZnQgPD0gY2FyUG9zLnJpZ2h0ICYmXG4gICAgICAgICAgICBlbmVteUNhclBvcy5kb3duID49IGNhclBvcy51cCAmJiBlbmVteUNhclBvcy5kb3duIDw9IGNhclBvcy5kb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmVteUNhclBvcy5yaWdodCA+PSBjYXJQb3MubGVmdCAmJiBlbmVteUNhclBvcy5yaWdodCA8PSBjYXJQb3MucmlnaHQgJiZcbiAgICAgICAgICAgIGVuZW15Q2FyUG9zLmRvd24gPj0gY2FyUG9zLnVwICYmIGVuZW15Q2FyUG9zLmRvd24gPD0gY2FyUG9zLmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lIGZyb20gJy4vY29tcG9uZW50cy9HYW1lJztcblxubGV0IGdhbWVBcmVhOkhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYW1lQXJlYVwiKTtcblxubGV0IGdhbWU6R2FtZSA9IG5ldyBHYW1lKGdhbWVBcmVhKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsKGUpPT57XG5cbiAgICBzd2l0Y2goZS5jb2RlKXtcbiAgICAgICAgY2FzZSAnU3BhY2UnOlxuICAgICAgICAgICAgaWYoIWdhbWUuaXNHYW1lSW5pdGlhbGl6ZWQpIGdhbWUucnVuKCk7XG4gICAgICAgICAgICBlbHNlIGlmKCFnYW1lLmlzUnVubmluZykgZ2FtZS5jb250aW51ZSgpO1xuICAgICAgICAgICAgZWxzZSBnYW1lLnBhdXNlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG59KVxuIiwiaW1wb3J0IFJvYWQgZnJvbSAnLi4vZ2FtZU9iamVjdHMvUm9hZCc7XG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0ICcuLy4uL2Nzcy9nbG9iYWxTdHlsZXMuY3NzJztcbmltcG9ydCBDYXIgZnJvbSAnLi4vZ2FtZU9iamVjdHMvQ2FyJztcbmltcG9ydCBFbmVteUNhciBmcm9tICcuLi9nYW1lT2JqZWN0cy9FbmVteUNhcic7XG5pbXBvcnQgRW5lbXlDYXJGYWN0b3J5IGZyb20gJy4vRW5lbXlDYXJGYWN0b3J5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZXtcblxuICAgIHByaXZhdGUgZ2FtZUFyZWFDYW52YXNFbGVtZW50OkhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwcml2YXRlIGxhc3RSZW5kZXJUaW1lOkRPTUhpZ2hSZXNUaW1lU3RhbXA7XG4gICAgcHJpdmF0ZSBnYW1lRGltZW5zaW9uczpEaW1lbnNpb25zO1xuICAgIHByaXZhdGUgcm9hZDpSb2FkO1xuICAgIHByaXZhdGUgY2FyOkNhcjtcbiAgICBwcml2YXRlIGVuZW15Q2FyRmFjdG9yeTpFbmVteUNhckZhY3Rvcnk7XG5cbiAgICBwdWJsaWMgaXNHYW1lSW5pdGlhbGl6ZWQ6Ym9vbGVhbjtcbiAgICBwdWJsaWMgaXNSdW5uaW5nOmJvb2xlYW47XG4gICAgXG4gICAgY29uc3RydWN0b3IoZ2FtZUFyZWE6SFRNTENhbnZhc0VsZW1lbnQpe1xuICAgICAgICB0aGlzLmdhbWVBcmVhQ2FudmFzRWxlbWVudCA9IGdhbWVBcmVhO1xuICAgICAgICB0aGlzLmN0eCA9IGdhbWVBcmVhLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgdGhpcy5sYXN0UmVuZGVyVGltZSA9IDA7XG4gICAgICAgIHRoaXMuZ2FtZURpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogMTA4MCxcbiAgICAgICAgICAgIGhlaWdodDo3MjBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdhbWVBcmVhQ2FudmFzRWxlbWVudC53aWR0aCA9IDEwODA7XG4gICAgICAgIHRoaXMuZ2FtZUFyZWFDYW52YXNFbGVtZW50LmhlaWdodCA9IDcyMDtcblxuICAgICAgICB0aGlzLmlzR2FtZUluaXRpYWxpemVkPWZhbHNlO1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpOnZvaWR7XG5cbiAgICAgICAgdGhpcy5pc0dhbWVJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yb2FkID0gbmV3IFJvYWQodGhpcy5jdHgsdGhpcy5nYW1lRGltZW5zaW9ucyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNhciA9IG5ldyBDYXIodGhpcy5jdHgsdGhpcy5yb2FkLmdldERpbWVuc2lvbnMoKSk7XG4gICAgICAgIHRoaXMuY2FyLmluaXRpYWxpc2VJbnB1dEhhbmRsZXIoKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZW5lbXlDYXJGYWN0b3J5ID0gbmV3IEVuZW15Q2FyRmFjdG9yeSh0aGlzLmN0eCx0aGlzLnJvYWQuZ2V0RGltZW5zaW9ucygpLCB0aGlzLmNhcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnYW1lTG9vcChjdXJyZW50VGltZTpET01IaWdoUmVzVGltZVN0YW1wKTp2b2lke1xuICAgICAgICBsZXQgZGVsdGEgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFJlbmRlclRpbWU7XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICAvLyBkcmF3IFxuICAgICAgICB0aGlzLnJvYWQuZHJhdygpO1xuICAgICAgICB0aGlzLnJvYWQuZHJhd1N0cmlwZXMoKTsgIC8vIHRoaXMgaXMgaW1wbGljaXQgcGFydCBvZiB0aGUgcm9hZCwgc28gc2hvdWxkbnQgYmUgY2FsbGVkIHNlcGVyYXRlbHkuXG4gICAgICAgIFxuICAgICAgICB0aGlzLmNhci5kcmF3KCk7XG4gICAgICAgIHRoaXMuZW5lbXlDYXJGYWN0b3J5LmRyYXcoKTtcblxuICAgICAgICAvL3VwZGF0ZVxuICAgICAgICB0aGlzLnJvYWQudXBkYXRlU3RyaXBlcygpOyAvLyBubyBuZWVkIHRvIGJlIGNhbGxlZC4gaXQgc2hvdWxkIGJlIGluaGVyZW50IHByb3Agb2Ygcm9hZC5cbiAgICAgICAgdGhpcy5lbmVteUNhckZhY3RvcnkudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5jYXIudXBkYXRlUG9zaXRpb24oKTtcblxuXG4gICAgICAgIGlmKHRoaXMuZW5lbXlDYXJGYWN0b3J5LmRldGVjdENvbGxpc2lvbigpKXtcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmlzUnVubmluZykge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3AuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgcHVibGljIHJ1bigpOnZvaWQge1xuXG4gICAgICAgIGlmKHRoaXMuaXNSdW5uaW5nID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wLmJpbmQodGhpcykpO1xuXG4gICAgfVxuXG4gICAgcHVibGljIGNvbnRpbnVlKCk6dm9pZCB7XG5cbiAgICAgICAgaWYodGhpcy5pc1J1bm5pbmcgPT09IHRydWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGF1c2UoKTp2b2lkIHtcbiAgICAgICAgaWYodGhpcy5pc1J1bm5pbmcgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==